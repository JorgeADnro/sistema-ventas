<h1 mat-dialog-title>Usuario</h1>

<mat-dialog-content>
    <form [formGroup]="userForm" (submit)="onSave()">
        <mat-form-field class="full-width">
            <mat-label>Nombre</mat-label>
            <input matInput formControlName="nombre" placeholder="Nombre">
            <mat-error>
                {{baseForm.getErrorMessage(userForm.get('nombre'))}}
            </mat-error>            
        </mat-form-field>
        <mat-form-field class="full-width">
            <mat-label>Apellidos</mat-label>
            <input matInput formControlName="apellidos" placeholder="Apellidos">
            <mat-error>
                {{baseForm.getErrorMessage(userForm.get('apellidos'))}}
            </mat-error>
        </mat-form-field>
        <mat-form-field class="full-width">
            <mat-label>Username</mat-label>
            <input matInput formControlName="username" placeholder="Username">
            <mat-error>
                {{baseForm.getErrorMessage(userForm.get('username'))}}
            </mat-error>
        </mat-form-field>
        <!-- <mat-form-field class="full-width">
            <mat-label>Correo</mat-label>
            <input matInput formControlName="email" placeholder="Email">
            <mat-error>
                {{baseForm.getErrorMessage(userForm.get('email'))}}
            </mat-error>
        </mat-form-field> -->
        <mat-form-field class="full-width">
            <mat-label>Contrase単a</mat-label>
            <input matInput formControlName="password" placeholder="Password">
            <mat-error>
                {{baseForm.getErrorMessage(userForm.get('password'))}}
            </mat-error>
        </mat-form-field>
        <mat-form-field class="full-width">
            <mat-label>Confirmar contrase単a</mat-label>
            <input matInput formControlName="confirmPassword" placeholder="Confirmar contrase単a">
            <mat-error *ngIf="userForm.hasError('mismatch', 'confirmPassword')">
                Las contrase単as no coinciden
            </mat-error>
            <mat-error>
                {{baseForm.getErrorMessage(userForm.get('confirmPassword'))}}
            </mat-error>
        </mat-form-field>
        <mat-form-field class="full-width" apparence="outline">
            <mat-label>Rol(es)</mat-label>
            <mat-select formControlName="rol" multiple>
                <mat-option *ngFor="let rol of roles" [value]="rol.id">{{ rol.nombre }}</mat-option>
            </mat-select>
        </mat-form-field>   
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>
        Cerrar
    </button>
    <button type="button" mat-flat-button color="primary" class="me-2" (click)="onSave()" [disabled]="userForm.invalid">
        {{ titleButton }}
    </button>
</mat-dialog-actions>